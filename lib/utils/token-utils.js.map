{"version":3,"file":"token-utils.js","names":["getMintInfo","connection","address","commitment","programId","TOKEN_PROGRAM_ID","getAccountInfo","info","Error","owner","equals","data","length","MintLayout","span","rawMint","decode","Uint8Array","from","mintAuthority","mintAuthorityOption","supply","decimals","isInitialized","freezeAuthority","freezeAuthorityOption"],"sources":["../../src/utils/token-utils.ts"],"sourcesContent":["import { MintLayout, TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\nimport { Commitment, Connection, PublicKey } from \"@solana/web3.js\";\n\nexport async function getMintInfo(\n    connection: Connection,\n    address: PublicKey,\n    commitment?: Commitment,\n    programId = TOKEN_PROGRAM_ID\n) {\n    const info = await connection.getAccountInfo(address, commitment);\n    if (!info) throw new Error(\"Token not found.\");\n    if (!info.owner.equals(programId)) throw new Error(\"Mint is not owned by Token Program.\");\n    if (info.data.length !== MintLayout.span) throw new Error(\"Account size of mint is invalid.\");\n\n    const rawMint = MintLayout.decode(Uint8Array.from(info.data));\n\n    return {\n        mintAuthority: rawMint.mintAuthorityOption ? rawMint.mintAuthority : null,\n        supply: rawMint.supply,\n        decimals: rawMint.decimals,\n        isInitialized: rawMint.isInitialized,\n        freezeAuthority: rawMint.freezeAuthorityOption ? rawMint.freezeAuthority : null,\n    };\n}"],"mappings":";;;;;;;AAAA;;;;+CACA,oJ;;;;;;SAEsBA,W;;;;;4EAAf,iBACHC,UADG,EAEHC,OAFG,EAGHC,UAHG;IAAA;IAAA;IAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YAIHC,SAJG,2DAISC,0BAJT;YAAA;YAAA,OAMgBJ,UAAU,CAACK,cAAX,CAA0BJ,OAA1B,EAAmCC,UAAnC,CANhB;;UAAA;YAMGI,IANH;;YAAA,IAOEA,IAPF;cAAA;cAAA;YAAA;;YAAA,MAOc,IAAIC,KAAJ,CAAU,kBAAV,CAPd;;UAAA;YAAA,IAQED,IAAI,CAACE,KAAL,CAAWC,MAAX,CAAkBN,SAAlB,CARF;cAAA;cAAA;YAAA;;YAAA,MAQsC,IAAII,KAAJ,CAAU,qCAAV,CARtC;;UAAA;YAAA,MASCD,IAAI,CAACI,IAAL,CAAUC,MAAV,KAAqBC,oBAAA,CAAWC,IATjC;cAAA;cAAA;YAAA;;YAAA,MAS6C,IAAIN,KAAJ,CAAU,kCAAV,CAT7C;;UAAA;YAWGO,OAXH,GAWaF,oBAAA,CAAWG,MAAX,CAAkBC,UAAU,CAACC,IAAX,CAAgBX,IAAI,CAACI,IAArB,CAAlB,CAXb;YAAA,iCAaI;cACHQ,aAAa,EAAEJ,OAAO,CAACK,mBAAR,GAA8BL,OAAO,CAACI,aAAtC,GAAsD,IADlE;cAEHE,MAAM,EAAEN,OAAO,CAACM,MAFb;cAGHC,QAAQ,EAAEP,OAAO,CAACO,QAHf;cAIHC,aAAa,EAAER,OAAO,CAACQ,aAJpB;cAKHC,eAAe,EAAET,OAAO,CAACU,qBAAR,GAAgCV,OAAO,CAACS,eAAxC,GAA0D;YALxE,CAbJ;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}