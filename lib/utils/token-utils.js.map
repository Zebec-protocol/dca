{"version":3,"file":"token-utils.js","names":["getMintInfo","connection","address","commitment","programId","TOKEN_PROGRAM_ID","getAccountInfo","info","Error","owner","equals","data","length","MintLayout","span","rawMint","decode","Uint8Array","from","mintAuthority","mintAuthorityOption","supply","decimals","isInitialized","freezeAuthority","freezeAuthorityOption"],"sources":["../../src/utils/token-utils.ts"],"sourcesContent":["import { MintLayout, TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\nimport { Commitment, Connection, PublicKey } from \"@solana/web3.js\";\n\nexport async function getMintInfo(\n\tconnection: Connection,\n\taddress: PublicKey,\n\tcommitment?: Commitment,\n\tprogramId = TOKEN_PROGRAM_ID,\n) {\n\tconst info = await connection.getAccountInfo(address, commitment);\n\tif (!info) throw new Error(\"Token not found.\");\n\tif (!info.owner.equals(programId)) throw new Error(\"Mint is not owned by Token Program.\");\n\tif (info.data.length !== MintLayout.span) throw new Error(\"Account size of mint is invalid.\");\n\n\tconst rawMint = MintLayout.decode(Uint8Array.from(info.data));\n\n\treturn {\n\t\tmintAuthority: rawMint.mintAuthorityOption ? rawMint.mintAuthority : null,\n\t\tsupply: rawMint.supply,\n\t\tdecimals: rawMint.decimals,\n\t\tisInitialized: rawMint.isInitialized,\n\t\tfreezeAuthority: rawMint.freezeAuthorityOption ? rawMint.freezeAuthority : null,\n\t};\n}\n"],"mappings":";;;;;;;AAAA;;;;+CACA,oJ;;;;;;SAEsBA,W;;;;;4EAAf,iBACNC,UADM,EAENC,OAFM,EAGNC,UAHM;IAAA;IAAA;IAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YAINC,SAJM,2DAIMC,0BAJN;YAAA;YAAA,OAMaJ,UAAU,CAACK,cAAX,CAA0BJ,OAA1B,EAAmCC,UAAnC,CANb;;UAAA;YAMAI,IANA;;YAAA,IAODA,IAPC;cAAA;cAAA;YAAA;;YAAA,MAOW,IAAIC,KAAJ,CAAU,kBAAV,CAPX;;UAAA;YAAA,IAQDD,IAAI,CAACE,KAAL,CAAWC,MAAX,CAAkBN,SAAlB,CARC;cAAA;cAAA;YAAA;;YAAA,MAQmC,IAAII,KAAJ,CAAU,qCAAV,CARnC;;UAAA;YAAA,MASFD,IAAI,CAACI,IAAL,CAAUC,MAAV,KAAqBC,oBAAA,CAAWC,IAT9B;cAAA;cAAA;YAAA;;YAAA,MAS0C,IAAIN,KAAJ,CAAU,kCAAV,CAT1C;;UAAA;YAWAO,OAXA,GAWUF,oBAAA,CAAWG,MAAX,CAAkBC,UAAU,CAACC,IAAX,CAAgBX,IAAI,CAACI,IAArB,CAAlB,CAXV;YAAA,iCAaC;cACNQ,aAAa,EAAEJ,OAAO,CAACK,mBAAR,GAA8BL,OAAO,CAACI,aAAtC,GAAsD,IAD/D;cAENE,MAAM,EAAEN,OAAO,CAACM,MAFV;cAGNC,QAAQ,EAAEP,OAAO,CAACO,QAHZ;cAINC,aAAa,EAAER,OAAO,CAACQ,aAJjB;cAKNC,eAAe,EAAET,OAAO,CAACU,qBAAR,GAAgCV,OAAO,CAACS,eAAxC,GAA0D;YALrE,CAbD;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}